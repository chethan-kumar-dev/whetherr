<!DOCTYPE html>
<html>
    <head>
        <title>helo</title>
        <meta name="viewport" content="device=device-width,initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style>
            #val{font-size: 20px;padding: 10px;border-radius: 10px;width: 300px;}
           
        </style>
    </head>
    <body style="background:linear-gradient(black,blue)">
        <div style="width: 380px;height: 500px;padding: 30px;">
            <div>
                <input type="text" id="val" placeholder="enter the city name..." >
                <i id="sub" class="fa fa-search" style="font-size: 30px;background-color: darkblue;color: white;width: 50px;padding: 10px 10px 14px 15px;border-radius: 30px;left: 280px;position: relative;top: -50px;cursor: pointer;"></i>
            </div>
            <img class="img" width="100px" height="100px" style="display: none;position:absolute;top: 90px;">
            <div style="width: 400px;height: 300px;position: relative;left: -30px;font-size: 30px;top:80px;border-radius: 20px;color: rgb(2, 2, 2);padding: 20px;opacity: 0.7;font-weight: bolder;border: 3px solid black;color: white;">
                <p class="name"></p>
                <p class="desc"></p>
                <p class="temp"></p>
                <p class="place"></p>
                <p class="pressure"></p>
            </div>
        </div>
      
        <script>
            sub.addEventListener('click',function()
            {
                var val=document.getElementById("val");
            var sub=document.getElementById("sub");
            var name=document.getElementById("name");
            var img=document.querySelector(".img");
            var desc=document.querySelector(".desc");
            var temp=document.querySelector(".temp");
            var place=document.querySelector(".place");
            var pressure=document.querySelector(".pressure");
                fetch('https://api.openweathermap.org/data/2.5/weather?q='+val.value+'&appid=886705b4c1182eb1c69f28eb8c520e20')
            .then(function(response)
            {
                let data=response.json();
                return data;
            })
            .then(function(data){
                console.log(data)
                var tempValue=data.main.temp;
                var tempy=Math.floor(tempValue-273.17);
                var descValue=data.weather[0].description;
                var placeName=data.name;
                var pressureValue=data.main.pressure;
                var nameValue=data.weather[0].icon;
                var kl="http://openweathermap.org/img/w/" + nameValue + ".png";
               alert(tempValue+" "+descValue+" "+tempy);
               desc.textContent="Description : "+descValue;
               pressure.textContent="Pressure : "+pressureValue
               place.textContent="Place : "+data.name;
               temp.innerHTML="Celsius : "+tempy+"<sup>&#xb0;</sup>";
               img.style.display="block";
               img.src=kl;
            })
            .catch((err) => {
                alert("the city doesnt wxist");
            })
            })
        </script>
    </body>
</html>
